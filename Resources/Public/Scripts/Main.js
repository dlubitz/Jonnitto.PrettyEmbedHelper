/*!
 * Jonnitto.PrettyEmbedHelper - created by Jon Uhlmann
 * @link https://github.com/jonnitto/PrettyEmbedHelper
 */
!function(){"use strict";var t=function(t,e){return t(e={exports:{}},e.exports),e.exports}(function(t){!function(){var e,n=0,o=0,c={},i={};function r(t,o,c){return"_root"==o?c:t!==c?function(t){return e||(e=t.matches?t.matches:t.webkitMatchesSelector?t.webkitMatchesSelector:t.mozMatchesSelector?t.mozMatchesSelector:t.msMatchesSelector?t.msMatchesSelector:t.oMatchesSelector?t.oMatchesSelector:d.matchesSelector)}(t).call(t,o)?t:t.parentNode?(n++,r(t.parentNode,o,c)):void 0:void 0}function a(t,e,n,o){c[t.id]||(c[t.id]={}),c[t.id][e]||(c[t.id][e]={}),c[t.id][e][n]||(c[t.id][e][n]=[]),c[t.id][e][n].push(o)}function u(t,e,n,o){if(c[t.id])if(e)if(o||n)if(o){if(c[t.id][e][n])for(var i=0;i<c[t.id][e][n].length;i++)if(c[t.id][e][n][i]===o){c[t.id][e][n].splice(i,1);break}}else delete c[t.id][e][n];else c[t.id][e]={};else for(var r in c[t.id])c[t.id].hasOwnProperty(r)&&(c[t.id][r]={})}function l(t,e,o,l){if(this.element){t instanceof Array||(t=[t]),o||"function"!=typeof e||(o=e,e="_root");var f,s=this.id;for(f=0;f<t.length;f++)l?u(this,t[f],e,o):(c[s]&&c[s][t[f]]||d.addEvent(this,t[f],p(t[f])),a(this,t[f],e,o));return this}function p(t){return function(e){!function(t,e,o){if(c[t][o]){var a,u,l=e.target||e.srcElement,f={},s=0,p=0;for(a in n=0,c[t][o])c[t][o].hasOwnProperty(a)&&(u=r(l,a,i[t].element))&&d.matchesEvent(o,i[t].element,u,"_root"==a,e)&&(n++,c[t][o][a].match=u,f[n]=c[t][o][a]);for(e.stopPropagation=function(){e.cancelBubble=!0},s=0;s<=n;s++)if(f[s])for(p=0;p<f[s].length;p++){if(!1===f[s][p].call(f[s].match,e))return void d.cancel(e);if(e.cancelBubble)return}}}(s,e,t)}}}function d(t,e){if(!(this instanceof d)){for(var n in i)if(i[n].element===t)return i[n];return i[++o]=new d(t,o),i[o]}this.element=t,this.id=e}d.prototype.on=function(t,e,n){return l.call(this,t,e,n)},d.prototype.off=function(t,e,n){return l.call(this,t,e,n,!0)},d.matchesSelector=function(){},d.cancel=function(t){t.preventDefault(),t.stopPropagation()},d.addEvent=function(t,e,n){var o="blur"==e||"focus"==e;t.element.addEventListener(e,n,o)},d.matchesEvent=function(){return!0},t.exports&&(t.exports=d),window.Gator=d}()}),e="jonnitto-prettyembed",n="".concat(e,"--init"),o="".concat(e,"--play"),c="".concat(e,"--slim"),i=document.querySelectorAll(".".concat(e,"--video video:not([autoplay])"));function r(e){var i=e.parentNode.classList;i.contains(n)||(e.hasAttribute("data-controls")&&e.setAttribute("controls",!0),e.hasAttribute("controls")||(i.add(c),t(e).on("click",function(){var t=!i.contains(o);i[t?"add":"remove"](o),t?e.play():e.pause()})),i.add(n),i.add(o),setTimeout(function(){e.play()},0))}function a(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0;n<t.length;n++){var c=i[n];c!=e&&(c.hasAttribute("controls")||c.parentNode.classList.remove(o),c.pause())}}for(var u=0;u<i.length;u++)t(i[u]).on("play",function(){a(i,this)});function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t(document.documentElement).on("click",".jonnitto-prettyembed--video.jonnitto-prettyembed--inline video",function(t){t.preventDefault(),r(this)});var d=document.documentElement,f=document.body,s="jonnitto-prettyembed",p="".concat(s,"__lightbox"),m=p,v="-".concat(p),h=d.classList,y="".concat(s,"__inner"),b="".concat(s,"__close"),g="".concat(s,"__content"),S=!1,w=document.createElement("div"),T=null;function E(){S.className="".concat(s," ").concat(g),S.innerHTML=""}function A(t,e){return S||(f.appendChild(w),S=document.getElementById(m)),E(),"object"!=l(t)&&(t=t?[t]:[]),t.forEach(function(t){S.classList.add("".concat(s,"--").concat(t))}),e&&(S.style.paddingTop=e),S}function M(t){clearTimeout(T),T=setTimeout(function(){"function"==typeof t&&t(),h.add(v)},100)}function _(){h.remove(v),S&&(clearTimeout(T),T=setTimeout(E,300))}function k(e,n){"function"==typeof n&&"string"==typeof e&&t(d).on("click",e,n)}w.className=p,w.innerHTML='\n<div class="'.concat(y,'">\n    <button type="button" class="').concat(b,'">&times;</button>\n    <div id="').concat(m,'" class="').concat(s," ").concat(g,'"></div>\n</div>'),t(d).on("click",".".concat(g),function(t){t.stopPropagation()}),t(d).on("click",".".concat(p,",.").concat(b),_),t(d).on("keyup",function(t){27==t.keyCode&&h.contains(v)&&_()});var x;function L(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0,n=!/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(window.navigator.userAgent);return!!(!n&&!t||n&&t)&&("function"==typeof e&&e(),!0)}k(".".concat("jonnitto-prettyembed","--video.").concat("jonnitto-prettyembed","--lightbox video"),function(t){t.preventDefault(),clearTimeout(x),a();var e=A("video").appendChild(this.cloneNode(!0));M(function(){r(e)}),x=setTimeout(function(){e.play()},500)});var j="jonnitto-prettyembed";function N(t){var e=t.dataset,n=null!=e.fs;return!!e.embed&&'<iframe src="'.concat(e.embed,'" ').concat(n?"allowfullscreen ":"",'frameborder="0" allow="').concat(n?"fullscreen; ":"",'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe>')}function q(t){var e=t.querySelector("img");return{node:e||null,src:e?e.getAttribute("src"):null}}function H(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"56.25%",n=q(t);if(!n.node)return e;var o=parseInt(n.node.naturalHeight)/parseInt(n.node.naturalWidth)*100;return"number"!=typeof o?e:o+"%"}function P(t,e){var n=N(t),o=q(t);if(n&&o.src){var c=function(t,e){if("object"===l(t)&&"string"==typeof e){var n=t,o=n.tagName,c=new RegExp("^<"+o,"i"),i=new RegExp(o+">$","i"),r="<"+e,a=e+">",u=document.createElement("div");u.innerHTML=n.outerHTML.replace(c,r).replace(i,a);var d=u.firstChild;return t.parentNode.replaceChild(d,t),d}}(t,"div");c.setAttribute("data-img",o.src),c.classList.add(e),c.style.paddingTop=H(t),c.innerHTML=n}}function B(t,e){L(!1,function(){e||(e=document.querySelectorAll(t));for(var n=e.length-1;n>=0;n--)P(e[n])})}function C(t){k("a.".concat(j,"--").concat(t,".").concat(j,"--lightbox"),function(e){var n=N(this);if(n){var o=H(this);e.preventDefault(),A([t,"iframe"],o).innerHTML=n,M()}})}function D(e){var n="a.".concat(j,"--").concat(e,".").concat(j,"--inline"),o="".concat(j,"--play");t(window).on("load",function(){B(n)}),t(document.documentElement).on("click",n,function(t){t.preventDefault(),P(this,o)})}function O(t){var e=t.getAttribute("src");t.naturalHeight<=90&&t.naturalWidth<=120&&-1==e.indexOf("/default.jpg")&&(e=e.replace("mqdefault","default").replace("hqdefault","mqdefault").replace("sddefault","hqdefault").replace("maxresdefault","sddefault"),t.setAttribute("src",e),setTimeout(function(){t.onload=function(){O(t)}},10),setTimeout(function(){O(t)},5e3))}function I(t){L(!0,function(){void 0===t&&(t=document.querySelectorAll("img.jonnitto-prettyembed__youtube-preview"));for(var e=t.length-1;e>=0;e--)O(t[e])})}D("vimeo"),C("vimeo"),D("youtube"),C("youtube"),t(window).on("load",function(){I()})}();

//# sourceMappingURL=Main.js.map
