{"version":3,"sources":["node_modules/gator/gator.js","DistributionPackages/Jonnitto.PrettyEmbedHelper/Resources/Private/Assets/Video/Init.js","DistributionPackages/Jonnitto.PrettyEmbedHelper/Resources/Private/Assets/Video/Embed.js","DistributionPackages/Jonnitto.PrettyEmbedHelper/Resources/Private/Assets/Helper/Lightbox.js","DistributionPackages/Jonnitto.PrettyEmbedHelper/Resources/Private/Assets/Video/Lightbox.js","DistributionPackages/Jonnitto.PrettyEmbedHelper/Resources/Private/Assets/Helper/checkAgent.js","DistributionPackages/Jonnitto.PrettyEmbedHelper/Resources/Private/Assets/Helper/iFrame.js","DistributionPackages/Jonnitto.PrettyEmbedHelper/Resources/Private/Assets/Youtube/Preview.js","DistributionPackages/Jonnitto.PrettyEmbedHelper/Resources/Private/Assets/Vimeo/Embed.js","DistributionPackages/Jonnitto.PrettyEmbedHelper/Resources/Private/Assets/Vimeo/Lightbox.js","DistributionPackages/Jonnitto.PrettyEmbedHelper/Resources/Private/Assets/Youtube/Embed.js","DistributionPackages/Jonnitto.PrettyEmbedHelper/Resources/Private/Assets/Youtube/Lightbox.js"],"names":["_matcher","_level","_id","_handlers","_gatorInstances","_matchesSelector","element","selector","boundElement","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","Gator","matchesSelector","_getMatcher","call","parentNode","_addHandler","gator","event","callback","id","push","_removeHandler","i","length","splice","type","hasOwnProperty","_bind","events","remove","this","Array","addEvent","_getGlobalCallback","e","match","target","srcElement","j","matchesEvent","stopPropagation","cancelBubble","cancel","_handleEvent","key","prototype","on","off","preventDefault","useCapture","addEventListener","module","exports","window","BASE_CLASS","INIT_CLASS","PLAY_CLASS","SLIM_CLASS","VIDEOS","document","querySelectorAll","init","video","classList","contains","hasAttribute","setAttribute","add","play","pause","setTimeout","videos","current","index","documentElement","HTML_ELEMENT","BODY_ELEMENT","body","LIGHTBOX_CLASS","ID","VISIBLE_CLASS","VISIBLE_CLASS_LIST","INNER_CLASS","CLOSE_CLASS","CONTENT_CLASS","lighboxContent","lighbox","createElement","timeout","resetContent","className","innerHTML","get","paddingTop","appendChild","getElementById","_typeof","forEach","item","style","show","clearTimeout","closeLighbox","keyCode","check","autoplay","HAS_AUTOPLAY","test","navigator","userAgent","videoNode","lightbox","cloneNode","BASE","markup","node","data","dataset","fullscreen","fs","embed","getImage","image","querySelector","src","getAttribute","getPaddingTop","fallback","ratio","parseInt","naturalHeight","naturalWidth","write","link","playClass","iframe","tagName","originalElement","originalTag","startRX","RegExp","endRX","startSubst","endSubst","wrapper","outerHTML","replace","newElement","firstChild","replaceChild","links","lightboxHelper","html","SELECTOR","fixPreview","img","indexOf","onload","fixPreviews","images"],"mappings":"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","file":"Main.js","sourcesContent":["/**\n * Copyright 2014 Craig Campbell\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * GATOR.JS\n * Simple Event Delegation\n *\n * @version 1.2.4\n *\n * Compatible with IE 9+, FF 3.6+, Safari 5+, Chrome\n *\n * Include legacy.js for compatibility with older browsers\n *\n *             .-._   _ _ _ _ _ _ _ _\n *  .-''-.__.-'00  '-' ' ' ' ' ' ' ' '-.\n * '.___ '    .   .--_'-' '-' '-' _'-' '._\n *  V: V 'vv-'   '_   '.       .'  _..' '.'.\n *    '=.____.=_.--'   :_.__.__:_   '.   : :\n *            (((____.-'        '-.  /   : :\n *                              (((-'\\ .' /\n *                            _____..'  .'\n *                           '-._____.-'\n */\n(function() {\n    var _matcher,\n        _level = 0,\n        _id = 0,\n        _handlers = {},\n        _gatorInstances = {};\n\n    function _addEvent(gator, type, callback) {\n\n        // blur and focus do not bubble up but if you use event capturing\n        // then you will get them\n        var useCapture = type == 'blur' || type == 'focus';\n        gator.element.addEventListener(type, callback, useCapture);\n    }\n\n    function _cancel(e) {\n        e.preventDefault();\n        e.stopPropagation();\n    }\n\n    /**\n     * returns function to use for determining if an element\n     * matches a query selector\n     *\n     * @returns {Function}\n     */\n    function _getMatcher(element) {\n        if (_matcher) {\n            return _matcher;\n        }\n\n        if (element.matches) {\n            _matcher = element.matches;\n            return _matcher;\n        }\n\n        if (element.webkitMatchesSelector) {\n            _matcher = element.webkitMatchesSelector;\n            return _matcher;\n        }\n\n        if (element.mozMatchesSelector) {\n            _matcher = element.mozMatchesSelector;\n            return _matcher;\n        }\n\n        if (element.msMatchesSelector) {\n            _matcher = element.msMatchesSelector;\n            return _matcher;\n        }\n\n        if (element.oMatchesSelector) {\n            _matcher = element.oMatchesSelector;\n            return _matcher;\n        }\n\n        // if it doesn't match a native browser method\n        // fall back to the gator function\n        _matcher = Gator.matchesSelector;\n        return _matcher;\n    }\n\n    /**\n     * determines if the specified element matches a given selector\n     *\n     * @param {Node} element - the element to compare against the selector\n     * @param {string} selector\n     * @param {Node} boundElement - the element the listener was attached to\n     * @returns {void|Node}\n     */\n    function _matchesSelector(element, selector, boundElement) {\n\n        // no selector means this event was bound directly to this element\n        if (selector == '_root') {\n            return boundElement;\n        }\n\n        // if we have moved up to the element you bound the event to\n        // then we have come too far\n        if (element === boundElement) {\n            return;\n        }\n\n        // if this is a match then we are done!\n        if (_getMatcher(element).call(element, selector)) {\n            return element;\n        }\n\n        // if this element did not match but has a parent we should try\n        // going up the tree to see if any of the parent elements match\n        // for example if you are looking for a click on an <a> tag but there\n        // is a <span> inside of the a tag that it is the target,\n        // it should still work\n        if (element.parentNode) {\n            _level++;\n            return _matchesSelector(element.parentNode, selector, boundElement);\n        }\n    }\n\n    function _addHandler(gator, event, selector, callback) {\n        if (!_handlers[gator.id]) {\n            _handlers[gator.id] = {};\n        }\n\n        if (!_handlers[gator.id][event]) {\n            _handlers[gator.id][event] = {};\n        }\n\n        if (!_handlers[gator.id][event][selector]) {\n            _handlers[gator.id][event][selector] = [];\n        }\n\n        _handlers[gator.id][event][selector].push(callback);\n    }\n\n    function _removeHandler(gator, event, selector, callback) {\n\n        // if there are no events tied to this element at all\n        // then don't do anything\n        if (!_handlers[gator.id]) {\n            return;\n        }\n\n        // if there is no event type specified then remove all events\n        // example: Gator(element).off()\n        if (!event) {\n            for (var type in _handlers[gator.id]) {\n                if (_handlers[gator.id].hasOwnProperty(type)) {\n                    _handlers[gator.id][type] = {};\n                }\n            }\n            return;\n        }\n\n        // if no callback or selector is specified remove all events of this type\n        // example: Gator(element).off('click')\n        if (!callback && !selector) {\n            _handlers[gator.id][event] = {};\n            return;\n        }\n\n        // if a selector is specified but no callback remove all events\n        // for this selector\n        // example: Gator(element).off('click', '.sub-element')\n        if (!callback) {\n            delete _handlers[gator.id][event][selector];\n            return;\n        }\n\n        // if we have specified an event type, selector, and callback then we\n        // need to make sure there are callbacks tied to this selector to\n        // begin with.  if there aren't then we can stop here\n        if (!_handlers[gator.id][event][selector]) {\n            return;\n        }\n\n        // if there are then loop through all the callbacks and if we find\n        // one that matches remove it from the array\n        for (var i = 0; i < _handlers[gator.id][event][selector].length; i++) {\n            if (_handlers[gator.id][event][selector][i] === callback) {\n                _handlers[gator.id][event][selector].splice(i, 1);\n                break;\n            }\n        }\n    }\n\n    function _handleEvent(id, e, type) {\n        if (!_handlers[id][type]) {\n            return;\n        }\n\n        var target = e.target || e.srcElement,\n            selector,\n            match,\n            matches = {},\n            i = 0,\n            j = 0;\n\n        // find all events that match\n        _level = 0;\n        for (selector in _handlers[id][type]) {\n            if (_handlers[id][type].hasOwnProperty(selector)) {\n                match = _matchesSelector(target, selector, _gatorInstances[id].element);\n\n                if (match && Gator.matchesEvent(type, _gatorInstances[id].element, match, selector == '_root', e)) {\n                    _level++;\n                    _handlers[id][type][selector].match = match;\n                    matches[_level] = _handlers[id][type][selector];\n                }\n            }\n        }\n\n        // stopPropagation() fails to set cancelBubble to true in Webkit\n        // @see http://code.google.com/p/chromium/issues/detail?id=162270\n        e.stopPropagation = function() {\n            e.cancelBubble = true;\n        };\n\n        for (i = 0; i <= _level; i++) {\n            if (matches[i]) {\n                for (j = 0; j < matches[i].length; j++) {\n                    if (matches[i][j].call(matches[i].match, e) === false) {\n                        Gator.cancel(e);\n                        return;\n                    }\n\n                    if (e.cancelBubble) {\n                        return;\n                    }\n                }\n            }\n        }\n    }\n\n    /**\n     * binds the specified events to the element\n     *\n     * @param {string|Array} events\n     * @param {string} selector\n     * @param {Function} callback\n     * @param {boolean=} remove\n     * @returns {Object}\n     */\n    function _bind(events, selector, callback, remove) {\n\n        // fail silently if you pass null or undefined as an alement\n        // in the Gator constructor\n        if (!this.element) {\n            return;\n        }\n\n        if (!(events instanceof Array)) {\n            events = [events];\n        }\n\n        if (!callback && typeof(selector) == 'function') {\n            callback = selector;\n            selector = '_root';\n        }\n\n        var id = this.id,\n            i;\n\n        function _getGlobalCallback(type) {\n            return function(e) {\n                _handleEvent(id, e, type);\n            };\n        }\n\n        for (i = 0; i < events.length; i++) {\n            if (remove) {\n                _removeHandler(this, events[i], selector, callback);\n                continue;\n            }\n\n            if (!_handlers[id] || !_handlers[id][events[i]]) {\n                Gator.addEvent(this, events[i], _getGlobalCallback(events[i]));\n            }\n\n            _addHandler(this, events[i], selector, callback);\n        }\n\n        return this;\n    }\n\n    /**\n     * Gator object constructor\n     *\n     * @param {Node} element\n     */\n    function Gator(element, id) {\n\n        // called as function\n        if (!(this instanceof Gator)) {\n            // only keep one Gator instance per node to make sure that\n            // we don't create a ton of new objects if you want to delegate\n            // multiple events from the same node\n            //\n            // for example: Gator(document).on(...\n            for (var key in _gatorInstances) {\n                if (_gatorInstances[key].element === element) {\n                    return _gatorInstances[key];\n                }\n            }\n\n            _id++;\n            _gatorInstances[_id] = new Gator(element, _id);\n\n            return _gatorInstances[_id];\n        }\n\n        this.element = element;\n        this.id = id;\n    }\n\n    /**\n     * adds an event\n     *\n     * @param {string|Array} events\n     * @param {string} selector\n     * @param {Function} callback\n     * @returns {Object}\n     */\n    Gator.prototype.on = function(events, selector, callback) {\n        return _bind.call(this, events, selector, callback);\n    };\n\n    /**\n     * removes an event\n     *\n     * @param {string|Array} events\n     * @param {string} selector\n     * @param {Function} callback\n     * @returns {Object}\n     */\n    Gator.prototype.off = function(events, selector, callback) {\n        return _bind.call(this, events, selector, callback, true);\n    };\n\n    Gator.matchesSelector = function() {};\n    Gator.cancel = _cancel;\n    Gator.addEvent = _addEvent;\n    Gator.matchesEvent = function() {\n        return true;\n    };\n\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = Gator;\n    }\n\n    window.Gator = Gator;\n}) ();\n","import Gator from 'gator';\n\nconst BASE_CLASS = 'jonnitto-prettyembed';\nconst INIT_CLASS = `${BASE_CLASS}--init`;\nconst PLAY_CLASS = `${BASE_CLASS}--play`;\nconst SLIM_CLASS = `${BASE_CLASS}--slim`;\nconst VIDEOS = document.querySelectorAll(\n    `.${BASE_CLASS}--video video:not([autoplay])`\n);\n\nfunction init(video) {\n    let classList = video.parentNode.classList;\n    if (classList.contains(INIT_CLASS)) {\n        return;\n    }\n\n    if (video.hasAttribute('data-controls')) {\n        video.setAttribute('controls', true);\n    }\n\n    if (!video.hasAttribute('controls')) {\n        classList.add(SLIM_CLASS);\n        Gator(video).on('click', () => {\n            let play = !classList.contains(PLAY_CLASS);\n            classList[play ? 'add' : 'remove'](PLAY_CLASS);\n            if (play) {\n                video.play();\n            } else {\n                video.pause();\n            }\n        });\n    }\n\n    classList.add(INIT_CLASS);\n    classList.add(PLAY_CLASS);\n    setTimeout(() => {\n        video.play();\n    }, 0);\n}\n\nfunction pause(videos = VIDEOS, current = null) {\n    for (let index = 0; index < videos.length; index++) {\n        const video = VIDEOS[index];\n        if (video != current) {\n            if (!video.hasAttribute('controls')) {\n                video.parentNode.classList.remove(PLAY_CLASS);\n            }\n            video.pause();\n        }\n    }\n}\n\nfor (let index = 0; index < VIDEOS.length; index++) {\n    Gator(VIDEOS[index]).on('play', function() {\n        pause(VIDEOS, this);\n    });\n}\n\nexport { init, pause };\n","import Gator from 'gator';\nimport { init } from './Init';\n\nconst SELECTOR =\n    '.jonnitto-prettyembed--video.jonnitto-prettyembed--inline video';\n\n// Attach the events to the html tag (because of the Google Tag Manager)\nGator(document.documentElement).on('click', SELECTOR, function(event) {\n    event.preventDefault();\n    init(this);\n});\n","import Gator from 'gator';\n\nconst HTML_ELEMENT = document.documentElement;\nconst BODY_ELEMENT = document.body;\nconst BASE_CLASS = 'jonnitto-prettyembed';\nconst LIGHTBOX_CLASS = `${BASE_CLASS}__lightbox`;\nconst ID = LIGHTBOX_CLASS;\nconst VISIBLE_CLASS = `-${LIGHTBOX_CLASS}`;\nconst VISIBLE_CLASS_LIST = HTML_ELEMENT.classList;\nconst INNER_CLASS = `${BASE_CLASS}__inner`;\nconst CLOSE_CLASS = `${BASE_CLASS}__close`;\nconst CONTENT_CLASS = `${BASE_CLASS}__content`;\n\nlet lighboxContent = false;\nlet lighbox = document.createElement('div');\nlet timeout = null;\n\nlighbox.className = LIGHTBOX_CLASS;\nlighbox.innerHTML = `\n<div class=\"${INNER_CLASS}\">\n    <button type=\"button\" class=\"${CLOSE_CLASS}\">&times;</button>\n    <div id=\"${ID}\" class=\"${BASE_CLASS} ${CONTENT_CLASS}\"></div>\n</div>`;\n\nfunction resetContent() {\n    // Reset the content to the default class\n    lighboxContent.className = `${BASE_CLASS} ${CONTENT_CLASS}`;\n    // Clear all content\n    lighboxContent.innerHTML = '';\n}\n\nfunction get(type, paddingTop) {\n    if (!lighboxContent) {\n        BODY_ELEMENT.appendChild(lighbox);\n        lighboxContent = document.getElementById(ID);\n    }\n    resetContent();\n    if (typeof type != 'object') {\n        type = type ? [type] : [];\n    }\n    type.forEach(item => {\n        lighboxContent.classList.add(`${BASE_CLASS}--${item}`);\n    });\n\n    if (paddingTop) {\n        lighboxContent.style.paddingTop = paddingTop;\n    }\n    return lighboxContent;\n}\n\nfunction show(callback) {\n    clearTimeout(timeout);\n    timeout = setTimeout(function() {\n        if (typeof callback == 'function') {\n            callback();\n        }\n        VISIBLE_CLASS_LIST.add(VISIBLE_CLASS);\n    }, 100);\n}\n\nfunction closeLighbox() {\n    VISIBLE_CLASS_LIST.remove(VISIBLE_CLASS);\n    if (lighboxContent) {\n        clearTimeout(timeout);\n        timeout = setTimeout(resetContent, 300);\n    }\n}\n\nfunction closeLighboxOnESC(event) {\n    if (event.keyCode == 27) {\n        if (VISIBLE_CLASS_LIST.contains(VISIBLE_CLASS)) {\n            closeLighbox();\n        }\n    }\n}\n\nfunction init(selector, callback) {\n    if (typeof callback == 'function' && typeof selector == 'string') {\n        Gator(HTML_ELEMENT).on('click', selector, callback);\n    }\n}\n\n// Catch click event to prevent closing lightbox if some clicks on content\nGator(HTML_ELEMENT).on('click', `.${CONTENT_CLASS}`, event => {\n    event.stopPropagation();\n});\n\n// Close lightbox on click on lightbox background or on close button\nGator(HTML_ELEMENT).on(\n    'click',\n    `.${LIGHTBOX_CLASS},.${CLOSE_CLASS}`,\n    closeLighbox\n);\n\n// Close on ESC\nGator(HTML_ELEMENT).on('keyup', closeLighboxOnESC);\n\nexport { get, show, init };\n","import * as video from './Init';\nimport * as lightbox from '../Helper/Lightbox';\n\nconst BASE_CLASS = 'jonnitto-prettyembed';\nconst SELECTOR_CLASS = `.${BASE_CLASS}--video.${BASE_CLASS}--lightbox video`;\nlet timeout;\n\nlightbox.init(SELECTOR_CLASS, function(event) {\n    event.preventDefault();\n    clearTimeout(timeout);\n    video.pause();\n    let videoNode = lightbox.get('video').appendChild(this.cloneNode(true));\n    lightbox.show(() => {\n        video.init(videoNode);\n    });\n    timeout = setTimeout(function() {\n        // Make sure the videoNode start playing\n        videoNode.play();\n    }, 500);\n});\n","function check(autoplay = true, callback) {\n    const HAS_AUTOPLAY = !/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(\n        window.navigator.userAgent\n    );\n    if ((!HAS_AUTOPLAY && !autoplay) || (HAS_AUTOPLAY && autoplay)) {\n        if (typeof callback == 'function') {\n            callback();\n        }\n        return true;\n    }\n    return false;\n}\n\nfunction hasAutoplay(callback) {\n    check(true, callback);\n}\n\nfunction noAutoplay(callback) {\n    check(false, callback);\n}\n\nexport { hasAutoplay, noAutoplay };\n","import Gator from 'gator';\nimport { noAutoplay } from './checkAgent';\nimport * as lightboxHelper from '../Helper/Lightbox';\n\nconst BASE = 'jonnitto-prettyembed';\n\nfunction markup(node) {\n    let data = node.dataset;\n    let fullscreen = data.fs != null;\n    if (!data.embed) {\n        return false;\n    }\n\n    return `<iframe src=\"${data.embed}\" ${\n        fullscreen ? 'allowfullscreen ' : ''\n    }frameborder=\"0\" allow=\"${\n        fullscreen ? 'fullscreen; ' : ''\n    }accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"></iframe>`;\n}\n\nfunction replace(element, tagName) {\n    if (typeof element === 'object' && typeof tagName === 'string') {\n        let originalElement = element;\n        let originalTag = originalElement.tagName;\n        let startRX = new RegExp('^<' + originalTag, 'i');\n        let endRX = new RegExp(originalTag + '>$', 'i');\n        let startSubst = '<' + tagName;\n        let endSubst = tagName + '>';\n        let wrapper = document.createElement('div');\n        wrapper.innerHTML = originalElement.outerHTML\n            .replace(startRX, startSubst)\n            .replace(endRX, endSubst);\n        let newElement = wrapper.firstChild;\n        element.parentNode.replaceChild(newElement, element);\n        return newElement;\n    }\n}\n\nfunction getImage(node) {\n    let image = node.querySelector('img');\n    return {\n        node: image || null,\n        src: image ? image.getAttribute('src') : null\n    };\n}\n\nfunction getPaddingTop(node, fallback = '56.25%') {\n    // 56.25% is a 16:9 fallback\n    let image = getImage(node);\n    if (!image.node) {\n        return fallback;\n    }\n    let ratio =\n        (parseInt(image.node.naturalHeight) /\n            parseInt(image.node.naturalWidth)) *\n        100;\n    if (typeof ratio != 'number') {\n        return fallback;\n    }\n    return ratio + '%';\n}\n\nfunction write(link, playClass) {\n    let iframe = markup(link);\n    let image = getImage(link);\n    if (iframe && image.src) {\n        let element = replace(link, 'div');\n        element.setAttribute('data-img', image.src);\n        element.classList.add(playClass);\n        element.style.paddingTop = getPaddingTop(link);\n        element.innerHTML = iframe;\n    }\n}\n\nfunction restore(element, playClass) {\n    let img = element.getAttribute('data-img') || false;\n    if (img) {\n        element.classList.remove(playClass);\n        element.removeAttribute('style');\n        element.innerHTML = `<img src=\"${img}\" />`;\n        replace(element, 'a');\n    }\n}\n\nfunction init(selector, links) {\n    noAutoplay(() => {\n        if (!links) {\n            links = document.querySelectorAll(selector);\n        }\n        for (let i = links.length - 1; i >= 0; i--) {\n            write(links[i]);\n        }\n    });\n}\n\nfunction lightbox(type) {\n    const SELECTOR = `a.${BASE}--${type}.${BASE}--lightbox`;\n\n    lightboxHelper.init(SELECTOR, function(event) {\n        let html = markup(this);\n        if (html) {\n            let paddingTop = getPaddingTop(this);\n            event.preventDefault();\n            lightboxHelper.get([type, 'iframe'], paddingTop).innerHTML = html;\n            lightboxHelper.show();\n        }\n    });\n}\n\nfunction embed(type) {\n    const SELECTOR = `a.${BASE}--${type}.${BASE}--inline`;\n    const PLAY_CLASS = `${BASE}--play`;\n\n    Gator(window).on('load', function() {\n        init(SELECTOR);\n    });\n    Gator(document.documentElement).on('click', SELECTOR, function(event) {\n        event.preventDefault();\n        write(this, PLAY_CLASS);\n    });\n}\n\nexport { markup, replace, write, restore, init, lightbox, embed };\n","import Gator from 'gator';\nimport { hasAutoplay } from '../Helper/checkAgent';\n\nfunction fixPreview(img) {\n    let src = img.getAttribute('src');\n    if (\n        img.naturalHeight <= 90 &&\n        img.naturalWidth <= 120 &&\n        src.indexOf('/default.jpg') == -1\n    ) {\n        src = src\n            .replace('mqdefault', 'default')\n            .replace('hqdefault', 'mqdefault')\n            .replace('sddefault', 'hqdefault')\n            .replace('maxresdefault', 'sddefault');\n        img.setAttribute('src', src);\n        setTimeout(() => {\n            img.onload = () => {\n                fixPreview(img);\n            };\n        }, 10);\n        setTimeout(() => {\n            fixPreview(img);\n        }, 5000);\n    }\n}\n\nfunction fixPreviews(images) {\n    hasAutoplay(() => {\n        if (typeof images === 'undefined') {\n            images = document.querySelectorAll(\n                'img.jonnitto-prettyembed__youtube-preview'\n            );\n        }\n        for (let i = images.length - 1; i >= 0; i--) {\n            fixPreview(images[i]);\n        }\n    });\n}\n\nGator(window).on('load', () => {\n    fixPreviews();\n});\n\nexport default fixPreviews;\n","import { embed } from '../Helper/iFrame';\n\nembed('vimeo');\n","import { lightbox } from '../Helper/iFrame';\n\nlightbox('vimeo');\n","import { embed } from '../Helper/iFrame';\n\nembed('youtube');\n","import { lightbox } from '../Helper/iFrame';\n\nlightbox('youtube');\n"]}