{"version":3,"sources":["Resources/Private/Assets/Helper/MediaInit.js","Resources/Private/Assets/Helper/addEvent.js","Resources/Private/Assets/Audio/Embed.js","Resources/Private/Assets/Video/Embed.js","Resources/Private/Assets/Helper/Lightbox.js","Resources/Private/Assets/Video/Lightbox.js","Resources/Private/Assets/Helper/checkAgent.js","Resources/Private/Assets/Helper/iFrame.js","Resources/Private/Assets/Youtube/Preview.js","Resources/Private/Assets/Vimeo/Embed.js","Resources/Private/Assets/Vimeo/Lightbox.js","Resources/Private/Assets/Youtube/Embed.js","Resources/Private/Assets/Youtube/Lightbox.js"],"names":["BASE","INIT_CLASS","SLIM_CLASS","PLAY_CLASS","VIDEOS","Array","from","document","querySelectorAll","AUDIOS","ELEMENTS","concat","init","element","autoplay","CLASS_LIST","parentNode","classList","contains","hasAttribute","setAttribute","add","addEventListener","play","pause","setTimeout","elements","current","forEach","remove","matches","selector","matchesSelector","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","oMatchesSelector","call","callback","documentElement","event","ELEMENT","ancestor","parentElement","nodeType","closest","target","addEvent","preventDefault","this","HTML_ELEMENT","BODY_ELEMENT","body","BASE_CLASS","LIGHTBOX_CLASS","ID","VISIBLE_CLASS","VISIBLE_CLASS_LIST","INNER_CLASS","CLOSE_CLASS","CONTENT_CLASS","LIGHTBOX","createElement","className","innerHTML","lighboxContent","timeout","resetContent","get","type","paddingTop","appendChild","getElementById","_typeof","item","style","show","clearTimeout","closeLighbox","stopPropagation","keyCode","check","HAS_AUTOPLAY","test","window","navigator","userAgent","video","VIDEO_NODE","lightbox","cloneNode","markup","node","DATA","dataset","FULLSCREEN","fs","embed","getImage","IMAGE","querySelector","src","getAttribute","getPaddingTop","force","fallback","RATIO","parseInt","naturalHeight","naturalWidth","write","link","playClass","IFRAME","FORCE_16to9","tagName","ORIGINAL_ELEMENT","ORIGINAL_TAG","START_RX","RegExp","END_RX","START_SUBST","END_SUBST","WRAPPER","outerHTML","replace","NEW_ELEMENT","firstChild","replaceChild","links","i","length","lightboxHelper","HTML","PADDING_TOP","SELECTOR","fixPreview","img","indexOf","onload","fixPreviews","images"],"mappings":"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","file":"Main.js","sourcesContent":["const BASE = 'jonnitto-prettyembed';\nconst INIT_CLASS = `${BASE}--init`;\nconst SLIM_CLASS = `${BASE}--slim`;\nconst PLAY_CLASS = `${BASE}--play`;\n\nconst VIDEOS = Array.from(\n    document.querySelectorAll(`.${BASE}--video video:not([autoplay])`)\n);\nconst AUDIOS = Array.from(\n    document.querySelectorAll(`.${BASE}--audio audio:not([autoplay])`)\n);\nconst ELEMENTS = [].concat(VIDEOS, AUDIOS);\n\nfunction init(element, autoplay = true) {\n    const CLASS_LIST = element.parentNode.classList;\n    if (CLASS_LIST.contains(INIT_CLASS)) {\n        return;\n    }\n\n    if (element.hasAttribute('data-controls')) {\n        element.setAttribute('controls', true);\n    }\n\n    if (!element.hasAttribute('controls')) {\n        CLASS_LIST.add(SLIM_CLASS);\n        element.addEventListener('click', () => {\n            const play = !CLASS_LIST.contains(PLAY_CLASS);\n            CLASS_LIST[play ? 'add' : 'remove'](PLAY_CLASS);\n            if (play) {\n                element.play();\n            } else {\n                element.pause();\n            }\n        });\n    }\n\n    CLASS_LIST.add(INIT_CLASS);\n    if (autoplay) {\n        CLASS_LIST.add(PLAY_CLASS);\n        setTimeout(() => {\n            element.play();\n        }, 0);\n    }\n}\n\nfunction pause(elements = ELEMENTS, current = null) {\n    elements.forEach(element => {\n        if (element != current) {\n            if (!element.hasAttribute('controls')) {\n                element.parentNode.classList.remove(PLAY_CLASS);\n            }\n            element.pause();\n        }\n    });\n}\n\nELEMENTS.forEach(element => {\n    element.addEventListener('play', event => {\n        pause(ELEMENTS, event.target);\n    });\n});\n\nexport { init, pause };\n","function matches(element, selector) {\n    return (\n        element.matches ||\n        element.matchesSelector ||\n        element.msMatchesSelector ||\n        element.mozMatchesSelector ||\n        element.webkitMatchesSelector ||\n        element.oMatchesSelector\n    ).call(element, selector);\n}\n\nfunction closest(element, selector) {\n    let ancestor = element;\n\n    do {\n        if (matches(ancestor, selector)) {\n            return ancestor;\n        }\n        ancestor = ancestor.parentElement || ancestor.parentNode;\n    } while (ancestor !== null && ancestor.nodeType === 1);\n    return null;\n}\n\nexport default function(selector, callback) {\n    document.documentElement.addEventListener('click', event => {\n        const ELEMENT = closest(event.target, selector);\n        if (!ELEMENT || typeof callback != 'function') {\n            return;\n        }\n        callback.call(ELEMENT, event);\n    });\n}\n","import { init } from '../Helper/MediaInit';\nimport addEvent from '../Helper/addEvent';\n\nconst elements = document.querySelectorAll(\n    '.jonnitto-prettyembed--audio audio'\n);\nArray.from(elements).forEach(element => {\n    init(element, false);\n});\n","import { init } from '../Helper/MediaInit';\nimport addEvent from '../Helper/addEvent';\n\nconst SELECTOR =\n    '.jonnitto-prettyembed--video.jonnitto-prettyembed--inline video';\n\naddEvent(SELECTOR, function(event) {\n    event.preventDefault();\n    init(this);\n});\n","import addEvent from './addEvent';\n\nconst HTML_ELEMENT = document.documentElement;\nconst BODY_ELEMENT = document.body;\nconst BASE_CLASS = 'jonnitto-prettyembed';\nconst LIGHTBOX_CLASS = `${BASE_CLASS}__lightbox`;\nconst ID = LIGHTBOX_CLASS;\nconst VISIBLE_CLASS = `-${LIGHTBOX_CLASS}`;\nconst VISIBLE_CLASS_LIST = HTML_ELEMENT.classList;\nconst INNER_CLASS = `${BASE_CLASS}__inner`;\nconst CLOSE_CLASS = `${BASE_CLASS}__close`;\nconst CONTENT_CLASS = `${BASE_CLASS}__content`;\nconst LIGHTBOX = document.createElement('div');\n\nLIGHTBOX.className = LIGHTBOX_CLASS;\nLIGHTBOX.innerHTML = `\n<div class=\"${INNER_CLASS}\">\n    <button type=\"button\" class=\"${CLOSE_CLASS}\">&times;</button>\n    <div id=\"${ID}\" class=\"${BASE_CLASS} ${CONTENT_CLASS}\"></div>\n</div>`;\n\nlet lighboxContent = false;\nlet timeout = null;\n\nfunction resetContent() {\n    // Reset the content to the default class\n    lighboxContent.className = `${BASE_CLASS} ${CONTENT_CLASS}`;\n    // Clear all content\n    lighboxContent.innerHTML = '';\n}\n\nfunction get(type, paddingTop) {\n    if (!lighboxContent) {\n        BODY_ELEMENT.appendChild(LIGHTBOX);\n        lighboxContent = document.getElementById(ID);\n    }\n    resetContent();\n    if (typeof type != 'object') {\n        type = type ? [type] : [];\n    }\n    type.forEach(item => {\n        lighboxContent.classList.add(`${BASE_CLASS}--${item}`);\n    });\n\n    if (paddingTop) {\n        lighboxContent.style.paddingTop = paddingTop;\n    }\n    return lighboxContent;\n}\n\nfunction show(callback) {\n    clearTimeout(timeout);\n    timeout = setTimeout(function() {\n        if (typeof callback == 'function') {\n            callback();\n        }\n        VISIBLE_CLASS_LIST.add(VISIBLE_CLASS);\n    }, 100);\n}\n\nfunction closeLighbox() {\n    VISIBLE_CLASS_LIST.remove(VISIBLE_CLASS);\n    if (lighboxContent) {\n        clearTimeout(timeout);\n        timeout = setTimeout(resetContent, 300);\n    }\n}\n\nfunction closeLighboxOnESC(event) {\n    if (event.keyCode == 27) {\n        if (VISIBLE_CLASS_LIST.contains(VISIBLE_CLASS)) {\n            closeLighbox();\n        }\n    }\n}\n\nfunction init(selector, callback) {\n    if (typeof callback == 'function' && typeof selector == 'string') {\n        addEvent(selector, callback);\n    }\n}\n\n// Catch click event to prevent closing lightbox if some clicks on content\naddEvent(`.${CONTENT_CLASS}`, event => {\n    event.stopPropagation();\n});\n\n// Close lightbox on click on lightbox background or on close button\naddEvent(`.${LIGHTBOX_CLASS}`, closeLighbox);\naddEvent(`.${CLOSE_CLASS}`, closeLighbox);\n\n// Close on ESC\nHTML_ELEMENT.addEventListener('keyup', closeLighboxOnESC);\n\nexport { get, show, init };\n","import * as video from '../Helper/MediaInit';\nimport * as lightbox from '../Helper/Lightbox';\n\nconst BASE_CLASS = 'jonnitto-prettyembed';\nconst SELECTOR_CLASS = `.${BASE_CLASS}--video.${BASE_CLASS}--lightbox video`;\nlet timeout;\n\nlightbox.init(SELECTOR_CLASS, function(event) {\n    event.preventDefault();\n    clearTimeout(timeout);\n    video.pause();\n    const VIDEO_NODE = lightbox.get('video').appendChild(this.cloneNode(true));\n    lightbox.show(() => {\n        video.init(VIDEO_NODE);\n    });\n    timeout = setTimeout(function() {\n        // Make sure the VIDEO_NODE start playing\n        VIDEO_NODE.play();\n    }, 500);\n});\n","function check(autoplay = true, callback) {\n    const HAS_AUTOPLAY = !/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(\n        window.navigator.userAgent\n    );\n    if ((!HAS_AUTOPLAY && !autoplay) || (HAS_AUTOPLAY && autoplay)) {\n        if (typeof callback == 'function') {\n            callback();\n        }\n        return true;\n    }\n    return false;\n}\n\nfunction hasAutoplay(callback) {\n    check(true, callback);\n}\n\nfunction noAutoplay(callback) {\n    check(false, callback);\n}\n\nexport { hasAutoplay, noAutoplay };\n","import addEvent from './addEvent';\nimport { noAutoplay } from './checkAgent';\nimport * as lightboxHelper from '../Helper/Lightbox';\n\nconst BASE = 'jonnitto-prettyembed';\n\nfunction markup(node) {\n    const DATA = node.dataset;\n    const FULLSCREEN = DATA.fs != null;\n    if (!DATA.embed) {\n        return false;\n    }\n\n    return `<iframe src=\"${DATA.embed}\" ${\n        FULLSCREEN ? 'allowfullscreen ' : ''\n    }frameborder=\"0\" allow=\"${\n        FULLSCREEN ? 'fullscreen; ' : ''\n    }accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"></iframe>`;\n}\n\nfunction replace(element, tagName) {\n    if (typeof element === 'object' && typeof tagName === 'string') {\n        const ORIGINAL_ELEMENT = element;\n        const ORIGINAL_TAG = ORIGINAL_ELEMENT.tagName;\n        const START_RX = new RegExp('^<' + ORIGINAL_TAG, 'i');\n        const END_RX = new RegExp(ORIGINAL_TAG + '>$', 'i');\n        const START_SUBST = '<' + tagName;\n        const END_SUBST = tagName + '>';\n        const WRAPPER = document.createElement('div');\n        WRAPPER.innerHTML = ORIGINAL_ELEMENT.outerHTML\n            .replace(START_RX, START_SUBST)\n            .replace(END_RX, END_SUBST);\n        const NEW_ELEMENT = WRAPPER.firstChild;\n        element.parentNode.replaceChild(NEW_ELEMENT, element);\n        return NEW_ELEMENT;\n    }\n}\n\nfunction getImage(node) {\n    const IMAGE = node.querySelector('img');\n    return {\n        node: IMAGE || null,\n        src: IMAGE ? IMAGE.getAttribute('src') : null\n    };\n}\n\nfunction getPaddingTop(node, force = false, fallback = '56.25%') {\n    // 56.25% is a 16:9 in percent\n    if (force) {\n        return fallback;\n    }\n\n    const IMAGE = getImage(node);\n    if (!IMAGE.node) {\n        return fallback;\n    }\n    const RATIO =\n        (parseInt(IMAGE.node.naturalHeight) /\n            parseInt(IMAGE.node.naturalWidth)) *\n        100;\n    if (typeof RATIO != 'number') {\n        return fallback;\n    }\n    return RATIO + '%';\n}\n\nfunction write(link, playClass) {\n    const IFRAME = markup(link);\n    const IMAGE = getImage(link);\n    const FORCE_16to9 = link.classList.contains(`${BASE}--16to9`);\n    if (IFRAME && IMAGE.src) {\n        const ELEMENT = replace(link, 'div');\n        ELEMENT.setAttribute('data-img', IMAGE.src);\n        ELEMENT.classList.add(playClass);\n        ELEMENT.style.paddingTop = getPaddingTop(link, FORCE_16to9);\n        ELEMENT.innerHTML = IFRAME;\n    }\n}\n\nfunction restore(element, playClass) {\n    const IMAGE = element.getAttribute('data-img') || false;\n    if (IMAGE) {\n        element.classList.remove(playClass);\n        element.removeAttribute('style');\n        element.innerHTML = `<img src=\"${IMAGE}\" />`;\n        replace(element, 'a');\n    }\n}\n\nfunction init(selector, playClass, links) {\n    noAutoplay(() => {\n        if (!links) {\n            links = document.querySelectorAll(selector);\n        }\n        for (let i = links.length - 1; i >= 0; i--) {\n            write(links[i], playClass);\n        }\n    });\n}\n\nfunction lightbox(type) {\n    const SELECTOR = `a.${BASE}--${type}.${BASE}--lightbox`;\n\n    lightboxHelper.init(SELECTOR, function(event) {\n        const HTML = markup(this);\n        const FORCE_16to9 = this.classList.contains(`${BASE}--16to9`);\n        if (HTML) {\n            const PADDING_TOP = getPaddingTop(this, FORCE_16to9);\n            event.preventDefault();\n            lightboxHelper.get([type, 'iframe'], PADDING_TOP).innerHTML = HTML;\n            lightboxHelper.show();\n        }\n    });\n}\n\nfunction embed(type) {\n    const SELECTOR = `a.${BASE}--${type}.${BASE}--inline`;\n    const PLAY_CLASS = `${BASE}--play`;\n\n    window.addEventListener('load', () => {\n        init(SELECTOR, PLAY_CLASS);\n    });\n    addEvent(SELECTOR, function(event) {\n        event.preventDefault();\n        write(this, PLAY_CLASS);\n    });\n}\n\nexport { markup, replace, write, restore, init, lightbox, embed };\n","import { hasAutoplay } from '../Helper/checkAgent';\n\nfunction fixPreview(img) {\n    let src = img.getAttribute('src');\n    if (\n        img.naturalHeight <= 90 &&\n        img.naturalWidth <= 120 &&\n        src.indexOf('/default.jpg') == -1\n    ) {\n        src = src\n            .replace('mqdefault', 'default')\n            .replace('hqdefault', 'mqdefault')\n            .replace('sddefault', 'hqdefault')\n            .replace('maxresdefault', 'sddefault');\n        img.setAttribute('src', src);\n        setTimeout(() => {\n            img.onload = () => {\n                fixPreview(img);\n            };\n        }, 10);\n        setTimeout(() => {\n            fixPreview(img);\n        }, 5000);\n    }\n}\n\nfunction fixPreviews(images) {\n    hasAutoplay(() => {\n        if (typeof images === 'undefined') {\n            images = document.querySelectorAll(\n                'img.jonnitto-prettyembed__youtube-preview'\n            );\n        }\n        for (let i = images.length - 1; i >= 0; i--) {\n            fixPreview(images[i]);\n        }\n    });\n}\n\nwindow.addEventListener('load', () => {\n    fixPreviews();\n});\n\nexport default fixPreviews;\n","import { embed } from '../Helper/iFrame';\n\nembed('vimeo');\n","import { lightbox } from '../Helper/iFrame';\n\nlightbox('vimeo');\n","import { embed } from '../Helper/iFrame';\n\nembed('youtube');\n","import { lightbox } from '../Helper/iFrame';\n\nlightbox('youtube');\n"]}