{"version":3,"file":"Main.js","sources":["../../Private/Assets/Helper/MediaInit.js","../../Private/Assets/Helper/triggerEvent.js","../../Private/Assets/Audio/Embed.js","../../Private/Assets/Helper/addEvent.js","../../Private/Assets/Video/Embed.js","../../Private/Assets/Helper/Lightbox.js","../../Private/Assets/Video/Lightbox.js","../../Private/Assets/Helper/iFrame.js","../../Private/Assets/Youtube/Preview.js","../../Private/Assets/Vimeo/Embed.js","../../Private/Assets/Vimeo/Lightbox.js","../../Private/Assets/Youtube/Embed.js","../../Private/Assets/Youtube/Lightbox.js"],"sourcesContent":["const BASE = 'jonnitto-prettyembed';\nconst INIT_CLASS = `${BASE}--init`;\nconst SLIM_CLASS = `${BASE}--slim`;\nconst PLAY_CLASS = `${BASE}--play`;\n\nconst VIDEOS = Array.from(document.querySelectorAll(`.${BASE}--video video:not([autoplay])`));\nconst AUDIOS = Array.from(document.querySelectorAll(`.${BASE}--audio audio:not([autoplay])`));\nconst ELEMENTS = [].concat(VIDEOS, AUDIOS);\n\nfunction init(element, autoplay = true, callback) {\n    const CLASS_LIST = element.parentNode.classList;\n    if (CLASS_LIST.contains(INIT_CLASS)) {\n        return;\n    }\n\n    if (typeof callback == 'function') {\n        callback();\n    }\n\n    if (element.hasAttribute('data-controls')) {\n        element.setAttribute('controls', true);\n    }\n\n    if (!element.hasAttribute('controls')) {\n        CLASS_LIST.add(SLIM_CLASS);\n        element.addEventListener('click', () => {\n            const play = !CLASS_LIST.contains(PLAY_CLASS);\n            CLASS_LIST[play ? 'add' : 'remove'](PLAY_CLASS);\n            if (play) {\n                element.play();\n            } else {\n                element.pause();\n            }\n        });\n    }\n\n    CLASS_LIST.add(INIT_CLASS);\n    if (autoplay) {\n        CLASS_LIST.add(PLAY_CLASS);\n        setTimeout(() => {\n            element.play();\n        }, 0);\n    }\n}\n\nfunction pause(elements = ELEMENTS, current = null) {\n    elements.forEach((element) => {\n        if (element != current) {\n            if (!element.hasAttribute('controls')) {\n                element.parentNode.classList.remove(PLAY_CLASS);\n            }\n            element.pause();\n        }\n    });\n}\n\nELEMENTS.forEach((element) => {\n    element.addEventListener('play', (event) => {\n        pause(ELEMENTS, event.target);\n    });\n});\n\nexport { init, pause };\n","export default function (options) {\n    let event;\n    if (!options) {\n        options = {};\n    }\n    if (window.CustomEvent) {\n        event = new CustomEvent('prettyembed', { detail: options });\n    } else {\n        event = document.createEvent('CustomEvent');\n        event.initCustomEvent('prettyembed', true, true, options);\n    }\n    document.dispatchEvent(event);\n}\n","import { init } from '../Helper/MediaInit';\nimport triggerEvent from '../Helper/triggerEvent';\n\nconst elements = document.querySelectorAll('.jonnitto-prettyembed--audio audio');\nArray.from(elements).forEach((element) => {\n    init(element, false);\n    triggerEvent({\n        type: 'audio',\n        style: 'inline',\n        src: (() => {\n            const SOURCE = element.querySelector('source');\n            return SOURCE ? SOURCE.src : null;\n        })(),\n    });\n});\n","function matches(element, selector) {\n    return (\n        element.matches ||\n        element.matchesSelector ||\n        element.msMatchesSelector ||\n        element.mozMatchesSelector ||\n        element.webkitMatchesSelector ||\n        element.oMatchesSelector\n    ).call(element, selector);\n}\n\nfunction closest(element, selector) {\n    let ancestor = element;\n\n    do {\n        if (matches(ancestor, selector)) {\n            return ancestor;\n        }\n        ancestor = ancestor.parentElement || ancestor.parentNode;\n    } while (ancestor !== null && ancestor.nodeType === 1);\n    return null;\n}\n\nexport default function (selector, callback) {\n    document.documentElement.addEventListener('click', (event) => {\n        const ELEMENT = closest(event.target, selector);\n        if (!ELEMENT || typeof callback != 'function') {\n            return;\n        }\n        callback.call(ELEMENT, event);\n    });\n}\n","import { init } from '../Helper/MediaInit';\nimport addEvent from '../Helper/addEvent';\nimport triggerEvent from '../Helper/triggerEvent';\n\nconst SELECTOR = '.jonnitto-prettyembed--video.jonnitto-prettyembed--inline video';\n\naddEvent(SELECTOR, function (event) {\n    event.preventDefault();\n    init(this, true, () => {\n        triggerEvent({\n            type: 'video',\n            style: 'inline',\n            title: this.ariaLabel,\n            src: (() => {\n                const SOURCE = this.querySelector('source');\n                return SOURCE ? SOURCE.src : null;\n            })(),\n        });\n    });\n});\n","import addEvent from './addEvent';\n\nconst HTML_ELEMENT = document.documentElement;\nconst BODY_ELEMENT = document.body;\nconst BASE_CLASS = 'jonnitto-prettyembed';\nconst LIGHTBOX_CLASS = `${BASE_CLASS}__lightbox`;\nconst ID = LIGHTBOX_CLASS;\nconst VISIBLE_CLASS = `-${LIGHTBOX_CLASS}`;\nconst VISIBLE_CLASS_LIST = HTML_ELEMENT.classList;\nconst INNER_CLASS = `${BASE_CLASS}__inner`;\nconst CLOSE_CLASS = `${BASE_CLASS}__close`;\nconst CONTENT_CLASS = `${BASE_CLASS}__content`;\nconst LIGHTBOX = document.createElement('div');\n\nLIGHTBOX.className = LIGHTBOX_CLASS;\nLIGHTBOX.innerHTML = `\n<div class=\"${INNER_CLASS}\">\n    <button type=\"button\" class=\"${CLOSE_CLASS}\">&times;</button>\n    <div id=\"${ID}\" class=\"${BASE_CLASS} ${CONTENT_CLASS}\"></div>\n</div>`;\n\nlet lighboxContent = false;\nlet timeout = null;\n\nfunction resetContent() {\n    // Reset the content to the default class\n    lighboxContent.className = `${BASE_CLASS} ${CONTENT_CLASS}`;\n    // Remove style attribute\n    lighboxContent.removeAttribute('style');\n    // Clear all content\n    lighboxContent.innerHTML = '';\n}\n\nfunction get(type, paddingTop) {\n    if (!lighboxContent) {\n        BODY_ELEMENT.appendChild(LIGHTBOX);\n        lighboxContent = document.getElementById(ID);\n    }\n    resetContent();\n    if (typeof type != 'object') {\n        type = type ? [type] : [];\n    }\n    type.forEach((item) => {\n        lighboxContent.classList.add(`${BASE_CLASS}--${item}`);\n    });\n\n    if (paddingTop) {\n        lighboxContent.style.paddingTop = paddingTop;\n    }\n    return lighboxContent;\n}\n\nfunction show(callback) {\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n        if (typeof callback == 'function') {\n            callback();\n        }\n        VISIBLE_CLASS_LIST.add(VISIBLE_CLASS);\n    }, 100);\n}\n\nfunction closeLighbox() {\n    VISIBLE_CLASS_LIST.remove(VISIBLE_CLASS);\n    if (lighboxContent) {\n        clearTimeout(timeout);\n        timeout = setTimeout(resetContent, 300);\n    }\n}\n\nfunction closeLighboxOnESC(event) {\n    if (event.keyCode == 27) {\n        if (VISIBLE_CLASS_LIST.contains(VISIBLE_CLASS)) {\n            closeLighbox();\n        }\n    }\n}\n\nfunction init(selector, callback) {\n    if (typeof callback == 'function' && typeof selector == 'string') {\n        addEvent(selector, callback);\n    }\n}\n\n// Catch click event to prevent closing lightbox if some clicks on content\naddEvent(`.${CONTENT_CLASS}`, (event) => {\n    event.stopImmediatePropagation();\n});\n\n// Close lightbox on click on lightbox background or on close button\naddEvent(`.${LIGHTBOX_CLASS}`, closeLighbox);\naddEvent(`.${CLOSE_CLASS}`, closeLighbox);\n\n// Close on ESC\nHTML_ELEMENT.addEventListener('keyup', closeLighboxOnESC);\n\nexport { get, show, init };\n","import * as video from '../Helper/MediaInit';\nimport * as lightbox from '../Helper/Lightbox';\nimport triggerEvent from '../Helper/triggerEvent';\n\nconst BASE_CLASS = 'jonnitto-prettyembed';\nconst SELECTOR_CLASS = `.${BASE_CLASS}--video.${BASE_CLASS}--lightbox video`;\nlet timeout;\n\nlightbox.init(SELECTOR_CLASS, function (event) {\n    event.preventDefault();\n    clearTimeout(timeout);\n    video.pause();\n    const VIDEO_NODE = lightbox.get('video', false).appendChild(this.cloneNode(true));\n    if (this.dataset.controls == undefined) {\n        // As we have no controls, we need to add also the play and pause button\n        Array.from(this.parentNode.children).forEach((element) => {\n            if (element != this && !element.classList.contains(`${BASE_CLASS}__preview`)) {\n                VIDEO_NODE.parentNode.appendChild(element.cloneNode(true));\n            }\n        });\n    }\n    lightbox.show(() => {\n        video.init(VIDEO_NODE);\n        if (!this.dataset.init) {\n            this.dataset.init = true;\n            triggerEvent({\n                type: 'video',\n                style: 'lightbox',\n                title: this.ariaLabel,\n                src: (() => {\n                    const SOURCE = this.querySelector('source');\n                    return SOURCE ? SOURCE.src : null;\n                })(),\n            });\n        }\n    });\n\n    timeout = setTimeout(function () {\n        // Make sure the VIDEO_NODE start playing\n        VIDEO_NODE.play();\n    }, 500);\n});\n","import addEvent from './addEvent';\nimport triggerEvent from './triggerEvent';\nimport * as lightboxHelper from '../Helper/Lightbox';\n\nconst BASE = 'jonnitto-prettyembed';\n\nfunction markup(node) {\n    const DATA = node.dataset;\n    const FULLSCREEN = DATA.fs != null;\n    if (!DATA.embed) {\n        return false;\n    }\n\n    return `<iframe src=\"${DATA.embed}\" ${FULLSCREEN ? 'allowfullscreen ' : ''}frameborder=\"0\" allow=\"${\n        FULLSCREEN ? 'fullscreen; ' : ''\n    }accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"></iframe>`;\n}\n\nfunction replace(element, tagName) {\n    if (typeof element === 'object' && typeof tagName === 'string') {\n        const ORIGINAL_ELEMENT = element;\n        const ORIGINAL_TAG = ORIGINAL_ELEMENT.tagName;\n        const START_RX = new RegExp('^<' + ORIGINAL_TAG, 'i');\n        const END_RX = new RegExp(ORIGINAL_TAG + '>$', 'i');\n        const START_SUBST = '<' + tagName;\n        const END_SUBST = tagName + '>';\n        const WRAPPER = document.createElement('div');\n        WRAPPER.innerHTML = ORIGINAL_ELEMENT.outerHTML.replace(START_RX, START_SUBST).replace(END_RX, END_SUBST);\n        const NEW_ELEMENT = WRAPPER.firstChild;\n        element.parentNode.replaceChild(NEW_ELEMENT, element);\n        return NEW_ELEMENT;\n    }\n}\n\nfunction getImage(node) {\n    const IMAGE = node.querySelector('img');\n    return {\n        node: IMAGE || null,\n        src: IMAGE ? IMAGE.getAttribute('src') : null,\n    };\n}\n\nfunction getPaddingTop(node, fallback = '56.25%') {\n    // 56.25% is a 16:9 in percent\n\n    if (node.dataset.ratio) {\n        return node.dataset.ratio;\n    }\n\n    const IMAGE = getImage(node);\n    if (!IMAGE.node) {\n        return fallback;\n    }\n    const RATIO = (parseInt(IMAGE.node.naturalHeight) / parseInt(IMAGE.node.naturalWidth)) * 100;\n    if (typeof RATIO != 'number') {\n        return fallback;\n    }\n    return RATIO + '%';\n}\n\nfunction write(link, playClass, type) {\n    if (checkGdpr(link)) {\n        const IFRAME = markup(link);\n        const IMAGE = getImage(link);\n        if (!IFRAME) {\n            return;\n        }\n        const ELEMENT = replace(link, 'div');\n        ELEMENT.classList.add(playClass);\n        ELEMENT.style.paddingTop = getPaddingTop(link);\n        ELEMENT.innerHTML = IFRAME;\n\n        if (IMAGE.src) {\n            ELEMENT.setAttribute('data-img', IMAGE.src);\n        }\n        triggerEvent({\n            type: type,\n            style: 'inline',\n            title: link.ariaLabel,\n            src: link.dataset.embed,\n        });\n    }\n}\n\nfunction checkGdpr(element) {\n    const GDPR = element.dataset.gdpr;\n\n    if (!GDPR) {\n        return true;\n    }\n    if (GDPR && confirm(GDPR)) {\n        element.removeAttribute('data-gdpr');\n        return true;\n    }\n    return false;\n}\n\nfunction restore(element, playClass) {\n    const IMAGE = element.getAttribute('data-img') || false;\n    if (IMAGE) {\n        element.classList.remove(playClass);\n        element.removeAttribute('style');\n        element.innerHTML = `<img src=\"${IMAGE}\" />`;\n        replace(element, 'a');\n    }\n}\n\nfunction lightbox(type) {\n    const SELECTOR = `a.${BASE}--${type}.${BASE}--lightbox`;\n\n    lightboxHelper.init(SELECTOR, function (event) {\n        const HTML = markup(this);\n        if (HTML) {\n            event.preventDefault();\n            if (checkGdpr(this)) {\n                const PADDING_TOP = getPaddingTop(this);\n                lightboxHelper.get([type, 'iframe'], PADDING_TOP).innerHTML = HTML;\n                lightboxHelper.show(() => {\n                    if (!this.dataset.init) {\n                        this.dataset.init = true;\n                        triggerEvent({\n                            type: type,\n                            style: 'lightbox',\n                            title: this.ariaLabel,\n                            src: this.dataset.embed,\n                        });\n                    }\n                });\n            }\n        }\n    });\n}\n\nfunction embed(type) {\n    const SELECTOR = `a.${BASE}--${type}.${BASE}--inline`;\n    const PLAY_CLASS = `${BASE}--play`;\n\n    addEvent(SELECTOR, function (event) {\n        event.preventDefault();\n        write(this, PLAY_CLASS, type);\n    });\n}\n\nexport { markup, replace, write, restore, lightbox, embed };\n","function fixPreview(img) {\n    let src = img.getAttribute('src');\n    if (img.naturalHeight <= 90 && img.naturalWidth <= 120 && src.indexOf('/default.jpg') == -1) {\n        src = src\n            .replace('mqdefault', 'default')\n            .replace('hqdefault', 'mqdefault')\n            .replace('sddefault', 'hqdefault')\n            .replace('maxresdefault', 'sddefault');\n        img.setAttribute('src', src);\n        setTimeout(() => {\n            img.onload = () => {\n                fixPreview(img);\n            };\n        }, 10);\n        setTimeout(() => {\n            fixPreview(img);\n        }, 5000);\n    }\n}\n\nfunction fixPreviews(images) {\n    if (typeof images === 'undefined') {\n        images = document.querySelectorAll('img.jonnitto-prettyembed__youtube-preview');\n    }\n    for (let i = images.length - 1; i >= 0; i--) {\n        fixPreview(images[i]);\n    }\n}\n\nwindow.addEventListener('load', () => {\n    fixPreviews();\n});\n","import { embed } from '../Helper/iFrame';\n\nembed('vimeo');\n","import { lightbox } from '../Helper/iFrame';\n\nlightbox('vimeo');\n","import { embed } from '../Helper/iFrame';\n\nembed('youtube');\n","import { lightbox } from '../Helper/iFrame';\n\nlightbox('youtube');\n"],"names":["BASE","INIT_CLASS","SLIM_CLASS","PLAY_CLASS","VIDEOS","Array","from","document","querySelectorAll","AUDIOS","ELEMENTS","concat","init","element","autoplay","callback","CLASS_LIST","parentNode","classList","contains","hasAttribute","setAttribute","add","addEventListener","play","pause","setTimeout","elements","current","forEach","remove","options","event","window","CustomEvent","detail","createEvent","initCustomEvent","dispatchEvent","target","matches","selector","matchesSelector","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","oMatchesSelector","call","documentElement","ELEMENT","ancestor","parentElement","nodeType","closest","SOURCE","triggerEvent","type","style","src","querySelector","addEvent","preventDefault","this","title","_this","ariaLabel","HTML_ELEMENT","BODY_ELEMENT","body","BASE_CLASS","LIGHTBOX_CLASS","ID","VISIBLE_CLASS","VISIBLE_CLASS_LIST","INNER_CLASS","CLOSE_CLASS","CONTENT_CLASS","LIGHTBOX","createElement","className","innerHTML","lighboxContent","timeout","resetContent","removeAttribute","get","paddingTop","appendChild","getElementById","_typeof","item","show","clearTimeout","closeLighbox","stopImmediatePropagation","keyCode","video","VIDEO_NODE","lightbox","cloneNode","undefined","dataset","controls","children","markup","node","DATA","FULLSCREEN","fs","embed","getImage","IMAGE","getAttribute","getPaddingTop","fallback","ratio","RATIO","parseInt","naturalHeight","naturalWidth","write","link","playClass","checkGdpr","IFRAME","tagName","ORIGINAL_ELEMENT","ORIGINAL_TAG","START_RX","RegExp","END_RX","START_SUBST","END_SUBST","WRAPPER","outerHTML","replace","NEW_ELEMENT","firstChild","replaceChild","GDPR","gdpr","confirm","lightboxHelper","HTML","PADDING_TOP","SELECTOR","fixPreview","img","indexOf","onload","images","i","length","fixPreviews"],"mappings":"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"}